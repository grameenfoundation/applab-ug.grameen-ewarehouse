<apex:page controller="EWarehouseMEDashboardController" sidebar="false" readOnly="true">
    <style type="text/css">
    .detailList caption, .graph-caption {
        font-size:120%;
        font-weight: bold;
        line-height:2em;
    }
    .graph-caption {
        text-align:center;
        display: block;
    }
    </style>
    <apex:pageBlock title="M & E Dashboard" id="General">
        
    
        <apex:pageBlockSection title="General information" columns="2">
            <apex:pageBlockTable value="{!impactData}" var="item">
                <apex:facet name="caption">General statistics</apex:facet>
                <apex:column value="{!item.name}" headerValue="Description" width="200px"/>
                <apex:column width="70px" value="{!item.count}" headerValue="Value"/>
            </apex:pageBlockTable>
            <apex:pageBlockTable value="{!FciInformation}" var="item">
                <apex:facet name="caption">FCI Information</apex:facet>
                <apex:column value="{!item.name}" headerValue="Description" width="200px"/>
                <apex:column width="70px" value="{!item.count}" headerValue="Value"/>
            </apex:pageBlockTable>
        </apex:pageBlockSection>
        
        <apex:pageBlockSection title="Farmers per acre, crop and livestock" columns="3">
            <apex:pageBlockSectionItem >
                <apex:pageBlockTable value="{!FarmersByAcre}" var="item">
                    <apex:facet name="caption">Farmers per acre</apex:facet>
                    <apex:column value="{!item.name}" headerValue="Land in acre" width="200px"/>
                    <apex:column width="70px" value="{!item.count}" headerValue="# of farmers"/>
                </apex:pageBlockTable>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
            
                <apex:chart height="350" width="450" id="FarmersByCrop" data="{!FarmersByCrop}">
                    <label class="graph-caption" for="FarmersByCrop">Farmers by crop</label>
                    <apex:pieSeries dataField="count" labelField="name"/>
                    <apex:legend position="right"/>
                </apex:chart>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:chart height="350" width="450" data="{!FarmersByLivestock}">
                    <label class="graph-caption" for="FarmersByCrop">Farmers by livestock</label>
                    <apex:pieSeries dataField="count" labelField="name"/>
                    <apex:legend position="right"/>
                </apex:chart>
            </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
  
        <apex:pageBlockSection title="Harvest and Sales in tons shown by crop type" columns="2">
            <apex:pageBlockSectionItem >
                
                <apex:chart id="FarmersByCrop" height="350" width="700" data="{!GrainCollected}">
                    <apex:legend position="right"/>
                    <apex:axis type="Category" position="bottom" fields="name" title="Crops by type"/>
                    <apex:axis type="Numeric" minimum="0" position="left" fields="count,count2" title="Volume in tons"/>
                    <apex:barSeries title="Collected/stored,Sold" orientation="vertical" axis="left" yField="count,count2" xField="name"/>
                </apex:chart>
 
 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:pageBlockTable value="{!GrainCollected}" var="item">
                    <apex:facet name="caption">Harvest collected in tons</apex:facet>
                    <apex:column value="{!item.name}" headerValue="Type collected/stored" width="200px"/>
                    <apex:column width="70px" value="{!item.count}" headerValue="Tons collected/stored"/>
                </apex:pageBlockTable>
            </apex:pageBlockSectionItem>

        </apex:pageBlockSection>
           
        <apex:pageBlockSection title="Farmers per storage location and material" columns="2">
            <apex:pageBlockSectionItem >
                <apex:chart height="350" width="450" data="{!FarmersByStorageLocation}">
                    <apex:axis type="Category" position="bottom" fields="name" title="Storage location"/>
                    <apex:axis type="Numeric" position="left" fields="count" minimum="0" title="No of farmers"/>
                    <apex:barSeries orientation="vertical" axis="bottom" yField="count" xField="name"/>
                </apex:chart>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:chart height="350" width="450" data="{!FarmersByStorageMaterial}">
                    <apex:axis type="Category" position="bottom" fields="name" title="Storage material"/>
                    <apex:axis type="Numeric" position="left" fields="count" minimum="0" title="No of farmers"/>
                    <apex:barSeries orientation="vertical" axis="bottom" yField="count" xField="name"/>
                </apex:chart>
            </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
        
    </apex:pageBlock>
</apex:page>